<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CogniKit - Open Classification Demo</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: system-ui, -apple-system, sans-serif;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
			padding: 2rem;
		}

		.demo-container {
			max-width: 1000px;
			margin: 0 auto;
		}

		.page-header {
			text-align: center;
			color: white;
			margin-bottom: 2rem;
		}

		.page-header h1 {
			font-size: 2.5rem;
			margin-bottom: 0.5rem;
			text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
		}

		.page-header p {
			font-size: 1.1rem;
			opacity: 0.9;
		}

		#quiz-mount {
			background: white;
			padding: 2rem;
			border-radius: 12px;
			box-shadow: 0 10px 30px rgba(0,0,0,0.3);
		}

		.info-box {
			margin-top: 2rem;
			padding: 1.5rem;
			background: rgba(255, 255, 255, 0.95);
			border-radius: 8px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.15);
		}

		.info-box h3 {
			color: #667eea;
			margin-bottom: 0.75rem;
		}

		.info-box ul {
			list-style-position: inside;
			color: #374151;
			line-height: 1.8;
		}

		.info-box li {
			margin-bottom: 0.5rem;
		}

		.features {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 1rem;
			margin-top: 2rem;
		}

		.feature-card {
			background: rgba(255, 255, 255, 0.95);
			padding: 1.25rem;
			border-radius: 8px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.1);
		}

		.feature-card h4 {
			color: #667eea;
			margin-bottom: 0.5rem;
			font-size: 1.1rem;
		}

		.feature-card p {
			color: #6b7280;
			font-size: 0.95rem;
			line-height: 1.5;
		}
	</style>
</head>
<body>
	<div class="demo-container">
		<div class="page-header">
			<h1>CogniKit Open Classification</h1>
			<p>Click chips to assign them to color-coded categories</p>
		</div>

		<div id="quiz-mount"></div>

		<div class="info-box">
			<h3>How to use this interaction:</h3>
			<ul>
				<li><strong>Step 1:</strong> Click the "Choose a Category" button to open the category selector</li>
				<li><strong>Step 2:</strong> Select a category with its color</li>
				<li><strong>Step 3:</strong> Click on items to assign them to the selected category</li>
				<li><strong>Step 4:</strong> Click again on a categorized item to toggle/remove its category</li>
				<li><strong>Step 5:</strong> Once all items are categorized, click "Check" to see your score</li>
				<li><strong>Result:</strong> Green borders = correct, Red borders = incorrect</li>
			</ul>
		</div>

		<div class="features">
			<div class="feature-card">
				<label>Change Accent</label>
				<input type="color" id="colorPicker"></input>
			</div>
			<div class="feature-card">
				<label>Change Variant</label>
				<select id="variantPicker">
					<option>outline</option>
					<option>sign</option>
					<option>letter</option>
					<option>playful</option>
					<option>elegant</option>
					<option>minimal</option>
					<option>glass</option>
					<option>empty</option>
				</select>
			</div>
	</div>

	<script type="module">
		import { OpenClassification } from './app.js';

		const picker = document.getElementById("colorPicker");
		const variantPicker = document.getElementById("variantPicker");
				// Sample quiz data about animals and their habitats
		const quizData = {
			type: 'classification',
			categories: [
				{
					label: 'Mammals',
					items: ['Lion', 'Elephant', 'Dolphin', 'Bat']
				},
				{
					label: 'Birds',
					items: ['Eagle', 'Penguin', 'Parrot', 'Owl']
				},
				{
					label: 'Reptiles',
					items: ['Snake', 'Crocodile', 'Turtle', 'Lizard']
				},
				{
					label: 'Fish',
					items: ['Shark', 'Salmon', 'Goldfish', 'Tuna']
				}
			],
			distractors: ['Jellyfish', 'Coral']
		};

		// Configuration for the interaction
		const config = {
			variant: 'outline',
			prompt: 'Classify these animals into their correct groups',
			headerEnabled: true,
			autoCheckButton: true,
			footerEnabled: true,
			footerAction: 'check',
			stimulus: 'text',
			counterEnabled: true,
			animationsEnabled: true,
			timer: 60, // No timer for this demo
			retries: 0,
			construct: 'Animal Classification',
			shuffle: false
		};

		// Mount point
		const mount = document.getElementById('quiz-mount');

		// Handler for when the quiz is submitted
		const interactionHandler = (result) => {
			console.log('Quiz completed with result:', result);
		};

		// Create and initialize the interaction
		const quiz = new OpenClassification({
			mount: mount,
			data: quizData,
			config: config,
			interactionHandler: interactionHandler
		});

		variantPicker.addEventListener("change", (e) => {
			const val = e.target.value;
			quiz.setVariant(val);
		});

		picker.addEventListener("change", (e) => {
			const hex = e.target.value;

			const r = parseInt(hex.substring(1, 3), 16);
			const g = parseInt(hex.substring(3, 5), 16);
			const b = parseInt(hex.substring(5, 7), 16);

			quiz.shell.style.setProperty('--edu-first-accent', `${r} ${g} ${b}`);	
		});



		console.log('OpenClassification quiz initialized:', quiz);
	</script>
</body>
<
