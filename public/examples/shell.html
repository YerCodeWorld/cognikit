<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Edu Window Component Demo</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: system-ui, -apple-system, sans-serif;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
			padding-bottom: 120px;
		}

		.demo-container {
			margin-top: 10%;
			display: grid;
			place-items: center;
			padding: 2rem;
		}

		.window-wrapper {
			background: white;
			padding: 2rem;
			border-radius: 12px;
			box-shadow: 0 10px 30px rgba(0,0,0,0.2);
		}

		.demo-content {
			padding: 2rem;
			text-align: center;
		}

		.demo-content h3 {
			margin-bottom: 1rem;
			color: #374151;
		}

		.demo-content p {
			color: #6b7280;
			line-height: 1.6;
		}

		.status-message {
			margin-top: 1rem;
			padding: 1rem;
			background: #f3f4f6;
			border-radius: 6px;
			text-align: center;
			font-weight: 600;
			color: #374151;
			min-height: 48px;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: all 0.3s ease;
		}

		/* Bottom Control Bar */
		.control-bar {
			position: fixed;
			bottom: 0;
			left: 0;
			right: 0;
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(10px);
			border-top: 2px solid #667eea;
			box-shadow: 0 -4px 20px rgba(0,0,0,0.15);
			z-index: 1000;
			padding: 0.75rem 1rem;
		}

		.control-bar-inner {
			max-width: 1400px;
			margin: 0 auto;
			display: flex;
			gap: 1rem;
			align-items: center;
			justify-content: center;
			flex-wrap: wrap;
		}

		.control-section {
			display: flex;
			gap: 0.5rem;
			align-items: center;
			padding: 0.5rem;
			border-radius: 6px;
			background: #f9fafb;
		}

		.control-section-label {
			font-size: 0.75rem;
			font-weight: 700;
			color: #667eea;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			margin-right: 0.25rem;
		}

		.ctrl-btn {
			position: relative;
			padding: 0.5rem;
			width: 36px;
			height: 36px;
			border: 2px solid #667eea;
			background: white;
			color: #667eea;
			border-radius: 6px;
			cursor: pointer;
			font-weight: 600;
			font-size: 0.875rem;
			transition: all 0.2s;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.ctrl-btn:hover {
			background: #667eea;
			color: white;
			transform: translateY(-2px);
		}

		.ctrl-btn.active {
			background: #667eea;
			color: white;
		}

		.ctrl-btn[data-tooltip]:hover::after {
			content: attr(data-tooltip);
			position: absolute;
			bottom: calc(100% + 8px);
			left: 50%;
			transform: translateX(-50%);
			background: #1f2937;
			color: white;
			padding: 0.5rem 0.75rem;
			border-radius: 6px;
			font-size: 0.75rem;
			white-space: nowrap;
			z-index: 1001;
			pointer-events: none;
			box-shadow: 0 4px 12px rgba(0,0,0,0.2);
		}

		.ctrl-btn[data-tooltip]:hover::before {
			content: '';
			position: absolute;
			bottom: calc(100% + 2px);
			left: 50%;
			transform: translateX(-50%);
			border: 6px solid transparent;
			border-top-color: #1f2937;
			z-index: 1001;
		}

		.toggle-btn {
			padding: 0.5rem 0.75rem;
			height: 36px;
			width: auto;
			border: 2px solid #10b981;
			color: #10b981;
		}

		.toggle-btn.active {
			background: #10b981;
			color: white;
		}

		.toggle-btn:hover {
			background: #10b981;
			color: white;
		}

		.action-btn {
			border-color: #f59e0b;
			color: #f59e0b;
		}

		.action-btn.active {
			background: #f59e0b;
			color: white;
		}

		.action-btn:hover {
			background: #f59e0b;
			color: white;
		}

		.divider {
			width: 2px;
			height: 36px;
			background: #e5e7eb;
			margin: 0 0.25rem;
		}

		@media (max-width: 768px) {
			body {
				padding-bottom: 160px;
			}

			.demo-container {
				padding: 1rem;
			}

			h1 {
				font-size: 1.75rem;
			}

			.control-bar {
				padding: 0.5rem;
			}

			.control-bar-inner {
				gap: 0.5rem;
			}

			.control-section {
				padding: 0.25rem;
				gap: 0.25rem;
			}

			.ctrl-btn {
				width: 32px;
				height: 32px;
				font-size: 0.75rem;
			}

			.toggle-btn {
				height: 32px;
				font-size: 0.75rem;
			}
		}
	</style>
</head>
<body>
	<div class="demo-container">

		<div class="window-wrapper">
			<edu-window
				id="demo-window"
				variant="elegant"
				heading="Interactive Demo Window"
				show-header="true"
				show-footer="true"
				footer-mode="static"
				timer="0"
				radio-count="5"
				progress="0">
				<div class="demo-content">
					<h3>Welcome to the Edu Window Demo</h3>
					<p>
						This is the default content area. You can place any HTML content here.
						Use the controls at the bottom to experiment with different configurations,
						variants, and features of the edu-window component.
					</p>
					<p style="margin-top: 1rem;">
						Try changing the variant, toggling the header/footer visibility,
						enabling the timer, or interacting with the progress bar!
					</p>
				</div>
			</edu-window>

			<div class="status-message" id="status-message">
				Ready to explore! Use the controls at the bottom.
			</div>
		</div>
	</div>

	<!-- Bottom Control Bar -->
	<div class="control-bar">
		<div class="control-bar-inner">
			<!-- Variant Controls -->
			<div class="control-section">
				<span class="control-section-label">Style</span>
				<button class="ctrl-btn active" data-variant="elegant" data-tooltip="Elegant">E</button>
				<button class="ctrl-btn" data-variant="playful" data-tooltip="Playful">P</button>
				<button class="ctrl-btn" data-variant="outline" data-tooltip="Outline">O</button>
				<button class="ctrl-btn" data-variant="letter" data-tooltip="Letter">L</button>
				<button class="ctrl-btn" data-variant="sign" data-tooltip="Sign">S</button>
				<button class="ctrl-btn" data-variant="minimal" data-tooltip="Minimal">M</button>
				<button class="ctrl-btn" data-variant="glass" data-tooltip="Glass">G</button>
				<button class="ctrl-btn" data-variant="empty" data-tooltip="Empty">—</button>
				<button class="ctrl-btn" data-variant="card" data-tooltip="Card">C</button>
			</div>

			<div class="divider"></div>

			<!-- Accent Controls -->
			<div class="control-section">
				<span class="control-section-label">Accent</span>
				<button class="ctrl-btn active" data-accent="first" data-tooltip="Purple Accent" style="background: rgb(99, 102, 241); color: white; border-color: rgb(99, 102, 241);">1</button>
				<button class="ctrl-btn" data-accent="second" data-tooltip="Orange Accent" style="border-color: rgb(245, 158, 11); color: rgb(245, 158, 11);">2</button>
				<button class="ctrl-btn" data-accent="third" data-tooltip="Pink Accent" style="border-color: rgb(236, 72, 153); color: rgb(236, 72, 153);">3</button>
			</div>

			<div class="divider"></div>

			<!-- Toggle Controls -->
			<div class="control-section">
				<span class="control-section-label">Toggle</span>
				<button class="ctrl-btn toggle-btn active" id="toggle-header" data-tooltip="Toggle Header">H</button>
				<button class="ctrl-btn toggle-btn active" id="toggle-footer" data-tooltip="Toggle Footer">F</button>
				<button class="ctrl-btn toggle-btn" id="toggle-timer" data-tooltip="Toggle Timer (60s)">T</button>
			</div>

			<div class="divider"></div>

			<!-- Mode Controls -->
			<div class="control-section">
				<span class="control-section-label">Mode</span>
				<button class="ctrl-btn action-btn active" id="mode-static" data-tooltip="Check Button Mode">✓</button>
				<button class="ctrl-btn action-btn" id="mode-sequential" data-tooltip="Radio Navigation Mode">◉</button>
			</div>

			<div class="divider"></div>

			<!-- Progress Controls -->
			<div class="control-section">
				<span class="control-section-label">Progress</span>
				<button class="ctrl-btn action-btn" id="progress-increase" data-tooltip="Increase Progress">+</button>
				<button class="ctrl-btn action-btn" id="progress-decrease" data-tooltip="Decrease Progress">−</button>
				<button class="ctrl-btn action-btn" id="progress-reset" data-tooltip="Reset Progress">↺</button>
				<button class="ctrl-btn action-btn" id="progress-complete" data-tooltip="Complete Progress">✓</button>
			</div>
		</div>
	</div>

	<script type="module">
		import './app.js';

		const eduWindow = document.getElementById('demo-window');
		const statusMessage = document.getElementById('status-message');

		// Variant controls
		document.querySelectorAll('[data-variant]').forEach(btn => {
			btn.addEventListener('click', () => {
				document.querySelectorAll('[data-variant]').forEach(b => b.classList.remove('active'));
				btn.classList.add('active');
				const variant = btn.dataset.variant;
				eduWindow.setAttribute('variant', variant);
				statusMessage.textContent = `Variant: ${variant}`;
			});
		});

		// Accent controls
		document.querySelectorAll('[data-accent]').forEach(btn => {
			btn.addEventListener('click', () => {
				document.querySelectorAll('[data-accent]').forEach(b => {
					b.classList.remove('active');
					// Reset styles
					if (b.dataset.accent === 'first') {
						b.style.background = '';
						b.style.color = 'rgb(99, 102, 241)';
						b.style.borderColor = 'rgb(99, 102, 241)';
					} else if (b.dataset.accent === 'second') {
						b.style.background = '';
						b.style.color = 'rgb(245, 158, 11)';
						b.style.borderColor = 'rgb(245, 158, 11)';
					} else if (b.dataset.accent === 'third') {
						b.style.background = '';
						b.style.color = 'rgb(236, 72, 153)';
						b.style.borderColor = 'rgb(236, 72, 153)';
					}
				});
				btn.classList.add('active');

				const accent = btn.dataset.accent;
				const accentColors = {
					first: 'rgb(99, 102, 241)',
					second: 'rgb(245, 158, 11)',
					third: 'rgb(236, 72, 153)'
				};

				// Update active button style
				btn.style.background = accentColors[accent];
				btn.style.color = 'white';
				btn.style.borderColor = accentColors[accent];

				// Apply accent to window by updating CSS custom property
				const accentMap = {
					first: '99 102 241',
					second: '245 158 11',
					third: '236 72 153'
				};
				eduWindow.style.setProperty('--edu-first-accent', accentMap[accent]);

				statusMessage.textContent = `Accent color changed to ${accent}`;
			});
		});

		// Header toggle
		document.getElementById('toggle-header').addEventListener('click', (e) => {
			e.currentTarget.classList.toggle('active');
			const isActive = e.currentTarget.classList.contains('active');
			eduWindow.setAttribute('show-header', isActive ? 'true' : 'false');
			statusMessage.textContent = `Header ${isActive ? 'shown' : 'hidden'}`;
		});

		// Footer toggle
		document.getElementById('toggle-footer').addEventListener('click', (e) => {
			e.currentTarget.classList.toggle('active');
			const isActive = e.currentTarget.classList.contains('active');
			eduWindow.setAttribute('show-footer', isActive ? 'true' : 'false');
			statusMessage.textContent = `Footer ${isActive ? 'shown' : 'hidden'}`;
		});

		// Timer toggle
		document.getElementById('toggle-timer').addEventListener('click', (e) => {
			e.currentTarget.classList.toggle('active');
			const isActive = e.currentTarget.classList.contains('active');
			eduWindow.setAttribute('timer', isActive ? '60' : '0');
			statusMessage.textContent = isActive ? 'Timer started (60s)' : 'Timer stopped';
		});

		// Footer mode controls
		document.getElementById('mode-static').addEventListener('click', () => {
			eduWindow.setAttribute('footer-mode', 'static');
			document.getElementById('mode-static').classList.add('active');
			document.getElementById('mode-sequential').classList.remove('active');
			statusMessage.textContent = 'Footer mode: Check Button';
		});

		document.getElementById('mode-sequential').addEventListener('click', () => {
			eduWindow.setAttribute('footer-mode', 'sequential');
			document.getElementById('mode-sequential').classList.add('active');
			document.getElementById('mode-static').classList.remove('active');
			statusMessage.textContent = 'Footer mode: Radio Navigation (5 steps)';
		});

		// Progress bar controls
		document.getElementById('progress-increase').addEventListener('click', () => {
			eduWindow.increment();
			statusMessage.textContent = 'Progress increased';
		});

		document.getElementById('progress-decrease').addEventListener('click', () => {
			eduWindow.decrement();
			statusMessage.textContent = 'Progress decreased';
		});

		document.getElementById('progress-reset').addEventListener('click', () => {
			eduWindow.resetProgress();
			statusMessage.textContent = 'Progress reset to 0';
		});

		document.getElementById('progress-complete').addEventListener('click', () => {
			eduWindow.setProgress(100, 100);
			statusMessage.textContent = 'Progress set to 100% - Check button now visible!';
		});

		// Check button click handler
		eduWindow.addEventListener('click', (e) => {
			const checkBtn = eduWindow.getCheckBtn();
			if (e.composedPath().includes(checkBtn)) {
				statusMessage.textContent = 'Check button clicked!';
				statusMessage.style.background = '#d1fae5';
				statusMessage.style.color = '#065f46';
				setTimeout(() => {
					statusMessage.style.background = '#f3f4f6';
					statusMessage.style.color = '#374151';
				}, 2000);
			}
		});

		// Radio navigation click handler
		eduWindow.addEventListener('click', (e) => {
			const radioNav = eduWindow.getRadioNav();
			const clickedLabel = e.composedPath().find(el => el.tagName === 'LABEL' && el.parentElement === radioNav);
			if (clickedLabel) {
				const inputId = clickedLabel.getAttribute('for');
				const match = inputId.match(/step-(\d+)/);
				if (match) {
					const stepIndex = match[1];
					statusMessage.textContent = `Radio navigation: Step ${stepIndex} selected`;
					statusMessage.style.background = '#dbeafe';
					statusMessage.style.color = '#1e40af';
					setTimeout(() => {
						statusMessage.style.background = '#f3f4f6';
						statusMessage.style.color = '#374151';
					}, 2000);
				}
			}
		});

		// Timer complete event
		eduWindow.addEventListener('timer-complete', () => {
			statusMessage.textContent = 'Time is up!';
			statusMessage.style.background = '#fee2e2';
			statusMessage.style.color = '#991b1b';
			setTimeout(() => {
				statusMessage.style.background = '#f3f4f6';
				statusMessage.style.color = '#374151';
			}, 3000);
		});

		// Set initial progress total
		eduWindow.setTotal(100);
	</script>
</body>
<
